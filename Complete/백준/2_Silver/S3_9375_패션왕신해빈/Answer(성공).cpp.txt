#include <bits/stdc++.h>
using namespace std;

int                        N, M; // N = 테스트 케이스 수, M = 의상 수
string                     A, B; // A = 의상 이름(미사용), B = 의상 종류
unordered_map<string, int> mp;   // 의상 종류별 개수 저장 (해시 테이블)

int main()
{
    ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);
    
    // 테스트 케이스 입력
    cin >> N;

    while(N--)
    {
        // 매 테스트마다 해시 테이블 초기화
        mp.clear();

        // 의상 정보 입력
        cin >> M;

        // 의상 이름은 필요 없고, 종류별 개수만 카운트
        for(int i = 0; i < M; i++)
        {
            cin >> A >> B;
            mp[B]++;        // 종류별 개수 증가 (O(1) 평균)
        }

        // 경우의 수 계산
        // 각 종류별로 (개수 + 1)을 곱함 (안 입는 경우 포함)
        long long ret = 1;
        for(auto c : mp)
            ret *= ((long long)c.second + 1);
        
        ret -= 1;            // 아무것도 안 입는 경우 제외
        cout << ret << "\n"; // 결과 출력
    }
    return 0;
}
